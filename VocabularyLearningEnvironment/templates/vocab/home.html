{% extends "base.html" %}
{% block title %}Home{% endblock %}

{% block content %}
  <div style="display:flex; flex-direction:column; align-items:flex-start; gap:12px;">
    <h1 style="font-size:28px; margin:0;">Vocabulary Training</h1>

    <input id="answer" type="text" placeholder="Type your answerâ€¦"
           style="font-size:18px; width:300px; padding:8px; border:2px solid #2d6aa6; border-radius:8px;">

    <div class="btn-row">
      <button id="check" class="btn">Check Answer</button>
      <button id="next"  class="btn">Next</button>
    </div>

    <pre id="out" style="margin:8px 0 0; font-size:16px;"></pre>
  </div>

  <style>
    .btn-row{ display:flex; gap:12px; }               
    .btn{
      font-size:18px; background:#2d6aa6; color:#fff;
      padding:10px 16px; border:0; border-radius:10px;
      cursor:pointer; font-weight:600;
    }
    .btn:hover{ filter:brightness(1.05); }
  </style>
{% endblock %}

{% block extra_js %}
<script>
let total = 10;
let current = 1;

const progressEl = document.getElementById("progress") || (() => {
   
    const p = document.createElement("p");
    p.id = "progress";
    document.querySelector(".btn-row")?.after(p) || document.body.appendChild(p);
    return p;
  })();

  const answerEl = document.getElementById("answer");
  const nextBtn   = document.getElementById("next");
  const checkBtn  = document.getElementById("check");

  function updateProgress() {
    progressEl.textContent = `${current}/${total} questions`;
  }

  updateProgress();

  checkBtn.addEventListener("click", () => {
    const val = answerEl.value.trim();
  });

  nextBtn.addEventListener("click", () => {
    if (current < total) {
      current += 1;            
      updateProgress();
      answerEl.value = "";
      answerEl.focus();
    }

    if (current === total) {
      nextBtn.disabled = true;
      nextBtn.textContent = "Done";
    }
  });

</script>
{% endblock %}